import { console } from '@ephox/dom-globals';
import { Arr } from '@ephox/katamari';
export var Cleaner = function () {
    var tasks = [];
    var add = function (task) {
        tasks.push(task);
    };
    var run = function () {
        Arr.each(tasks, function (task) {
            try {
                task();
            }
            catch (e) {
                // tslint:disable-next-line:no-console
                console.log(e);
            }
        });
        tasks = [];
    };
    var wrap = function (fn) { return function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        run();
        return fn.apply(null, args);
    }; };
    return {
        add: add,
        run: run,
        wrap: wrap,
    };
};
//# sourceMappingURL=Cleaner.js.map