import * as Arr from 'ephox/katamari/api/Arr';
import * as Obj from 'ephox/katamari/api/Obj';
import * as Unique from 'ephox/katamari/api/Unique';
import { UnitTest, assert } from '@ephox/bedrock-client';
import * as fc from 'fast-check';
import { Eq } from '@ephox/dispute';
UnitTest.test('Arr.mapToObject', function () {
    var checkToObject = function (expected, input, f) {
        assert.eq(expected, Arr.mapToObject(input, f));
        assert.eq(expected, Arr.mapToObject(Object.freeze(input.slice()), f));
    };
    checkToObject({}, [], function () {
        throw new Error('boom');
    });
    checkToObject({ a: '3a' }, ['a'], function (x) { return 3 + x; });
    checkToObject({ a: '3a', b: '3b' }, ['a', 'b'], function (x) { return 3 + x; });
    checkToObject({ 1: 4, 2: 5 }, [1, 2], function (x) { return 3 + x; });
    fc.assert(fc.property(fc.array(fc.asciiString()), function (keys) {
        var f = function (x) { return x + '_cat'; };
        var inputKeys = Arr.sort(Unique.stringArray(keys));
        var output = Arr.mapToObject(inputKeys, f);
        var outputKeys = Arr.sort(Obj.keys(output));
        return Eq.eqArray(Eq.eqString).eq(inputKeys, outputKeys) &&
            Arr.forall(outputKeys, function (ok) { return f(ok) === output[ok]; });
    }));
});
//# sourceMappingURL=ArrMapToObjectTest.js.map