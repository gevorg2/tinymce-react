"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Attempt_1 = require("./bedrock/core/Attempt");
const Clis = require("./bedrock/cli/Clis");
exports.run = (program, directories) => {
    if (Clis[program.mode] === undefined) {
        throw new Error('Bedrock mode not known: ' + program.mode);
    }
    const maybeSettings = Clis[program.mode](directories);
    Attempt_1.Attempt.cata(maybeSettings, Clis.logAndExit, (settings) => {
        program.go(settings, directories);
    });
};
//# sourceMappingURL=BedrockCli.js.map