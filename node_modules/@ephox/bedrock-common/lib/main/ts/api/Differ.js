import * as JsDiff from 'diff';
import { htmlentities } from './StringUtils';
export var diffPrettyHtml = function (text1, text2) {
    var changes = JsDiff.diffArrays(text1.split('\n'), text2.split('\n'));
    var lines = changes.map(function (c) {
        var prefix = (c.removed ? '<del style="background:#ffe6e6;">' : c.added ? '<ins style="background:#e6ffe6;">' : '<span>');
        var suffix = (c.removed ? '</del>' : c.added ? '</ins>' : '</span>');
        var texts = c.value;
        var tz = texts.map(function (t) { return prefix + htmlentities(t) + suffix + "<br />"; });
        return tz.join('');
    });
    return lines.join('');
};
export var diffPrettyText = function (text1, text2) {
    var changes = JsDiff.diffArrays(text1.split('\n'), text2.split('\n'));
    var lines = changes.map(function (c) {
        var prefix = (c.removed ? '-' : c.added ? '+' : ' ') + ' | ';
        var texts = c.value;
        return prefix + texts.join('\n' + prefix);
    });
    return lines.join('\n');
};
//# sourceMappingURL=Differ.js.map